---
layout: single
title: マテリアル設定
toc: true
---

## マテリアルリストの組織化方法

モデルには数百種類の異なるマテリアルが存在する場合がありますが、効率的に管理するために、以下の方法でマテリアルを組織化しています。

* テクスチャグループ
  マテリアルリストをより管理しやすくするために、使用するテクスチャファイルによってグループ化しています。ほとんどの場合、スキン、衣装、アクセサリー、髪の毛は異なるテクスチャマップを使用します。そのため、テクスチャによるグループ化は異なる目的のためのきれいな区切りを提供します。

* マテリアルカテゴリ
  テクスチャのグループ化に加えて、マテリアルとテクスチャの名前をチェックして各マテリアルの目的を判断し、マテリアルの管理を容易にするためのカテゴリを作成しています。
  カテゴリは以下の通りです。
  * スキン：ボディ、顔、腕、足がこのカテゴリに含まれ、最も美しい外観のために自動的にスキンシェーダーが割り当てられます。
  * 髪：髪のマテリアルも独自のシェーダーがあり、最も美しい外観になります。
  * 目：目は異なるデフォルト値（より高い光沢など）を持っています。
  * 口唇：口唇も標準のマテリアルとは異なる値が割り当てられます。
  * 不透明：前のカテゴリに含まれない不透明なマテリアルはここに入ります。
  * 透明：他のカテゴリに含まれない透明なマテリアルはここに入ります。
  * カスタム：デフォルトでは空ですが、マテリアルをこのカテゴリに割り当ててカスタムの調整を行うことができます。

## 調整の方法

### マテリアルリスト

マテリアルリストはアクターメニューから見つけることができます。単に「マテリアル」/「マテリアルリスト」に移動すると、すべてのマテリアルがテクスチャグループごとにリストされています。

マテリアルリストで行える調整：
* グループ固有のコントロール：
  * トグル：グループ全体の表示/非表示を制御します。
  * オーバーライド：グループ内のすべてのマテリアルに同じ変更を適用したい場合は、「オーバーライド」をオンにして、そこで調整を行います。
  * マテリアルの共有：このオプションをオンにすると、グループ全体が最初のアイテムと同じマテリアルを使用するように強制されます。これにより、複数のマテリアルのオーバーヘッドを減らすことでパフォーマンスが向上する場合があります。ただし、個々のマテリアルには異なる設定がある場合があり、その場合に共有マテリアルを使用すると予期しない結果が生じる場合があります。
* 個々のマテリアルのコントロール：
  * カテゴリの変更：デフォルトのカテゴリの変更
  * 透明度：自動、不透明、透明の切り替え
  * 透明プリパス：アルファソートの問題に対処するための技術です。ただし、最初のレイヤーのみ表示されるというデメリットがあります。それが望ましくない場合はオフにすることができます。
  * 透明プリパスの閾値：閾値よりも高いアルファ値はプリパスを使用しません。
  * サーフェス：色、滑らかさ、金属、発光を調整します。
  * シャドウ：シャドウのドロップの有無を選択します。
  * シャドウの閾値：アルファ値が閾値よりも高い場合にのみシャドウをドロップします。

### マテリアルカテゴリのコントロール

* スキン
  スキンマテリアルでは、ディテールマップのスケール、厚さ、汗の効果を制御できます。
* 髪
  髪のシェーダーにはディテールマップのスケールと異方性（ハイライトが方向性を持つ）の制御があります。

{% include video id="xazXOlls5mM" provider="youtube" %}

DanceXRはマテリアル名に特定のキーワードをチェックし、それらを異なるグループに分類します。スキン、髪、目、口唇など、すべてが「その他」のカテゴリに分類されます。

ほとんどの場合、マテリアルカテゴリの設定でマテリアルの設定を個別に変更することなく行うことができます。

必要に応じて、リストからすべてのマテリアルを見つけて個別に変更することもできます。