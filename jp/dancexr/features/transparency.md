---
locale: ja-JP
layout: single
title: 透明な素材
toc: true
sidebar:
  nav: "docs-jp"
---
[Eng](/dancexr/features/transparency) | [繁中](/tw/dancexr/features/transparency) | [日本語](/jp/dancexr/features/transparency) | [한국어](/kr/dancexr/features/transparency) | [简中](/zh/dancexr/features/transparency)


## 透明な素材

透明な素材の問題には、主に2つの側面があります：

* 素材が透明か不透明かを判断すること。
* 透明な素材のレンダリング順序。

### 透明/不透明な素材の判断

XPSモデルデータには、素材のプロパティが含まれており、透明モードを使用するかどうかを判断するために使用できます。そのため、XPSモデルでは通常、誤判断のケースはありません。

一方、PMXモデルにはそのようなデータが提供されていないため、現在は主に2つの方法を使用しています：
* テクスチャのプロパティに基づいて、素材が透明かどうかを推測します。テクスチャにアルファチャンネルが含まれている場合、素材は透明と判断されます。ただし、アルファチャンネルを透明度ではなく滑らかさの値として使用する一部の素材など、例外もあります。
* 名前に基づいて推測します。たとえば、名前に「shadow」や「hair」といった単語が含まれている場合、透明と判断されます。

したがって、PMXモデルでは一定の誤判断のケースが発生する可能性があります。

### 透明な素材のレンダリング順序

ほとんどのXPSモデルには、レンダリング順序のデータが含まれているため、通常は大きな問題はありません。

一部のPMXモデルの素材には適切なレンダリング順序がないため、重ね合わせ後に奇妙な画面が表示されることがあります。

### 透明な深度プリパス（HD）

デフォルトでは、HDおよびRTバージョンでは透明な深度プリパスモードがオンになります。このモードでは、すべての透明な素材が深度プリパスパスを経て、zバッファを使用して素材の重ね合わせ関係を決定し、最上位の透明な素材が正しくレンダリングされるようにします。このアプローチは重ね合わせの問題を解決できますが、欠点として、すべての下部の素材が破棄されることです。モデルが複数のレイヤーを同時に表示する必要がある場合、問題が発生する可能性があります。たとえば、髪と透明な衣服、またはキャラクターが他の透明なオブジェクトによって隠されている場合などです。このモードはシステム設定でオフにすることができます。

バージョン1.4.3以降では、個々の素材ごとに独立した微調整の深度プリパス設定が可能です：

* 透明なプリパスの切り替え：各素材は独立して深度プリパスを使用するかどうかを制御できます。
* 透明なプリパスの閾値：深度プリパスを使用する場合、このパラメータを使用して深度プリパスの範囲を制御できます。値が大きいほど、深度プリパスの範囲が小さくなります。デフォルト設定は0.8です。

### 透明な素材の設定

各個別の素材オプションでは、素材の透明モードを変更できます。自動、強制透明、または強制不透明に設定することができます。

髪のオプションでは、すべての髪の素材の透明モードを変更できます。

グローバルな素材設定では、いくつかの異なるオプションから透明度のソート順を選択できます。