---
locale: ja-JP
layout: single
toc: true
title: 布のシミュレーション
sidebar:
  nav: "docs-jp"
---
[Eng](/dancexr/features/cloth_simulation) | [繁中](/tw/dancexr/features/cloth_simulation) | [日本語](/jp/dancexr/features/cloth_simulation) | [한국어](/kr/dancexr/features/cloth_simulation) | [简中](/zh/dancexr/features/cloth_simulation)

# クロスシミュレーション
クロスシミュレーションは、粒子の動きとそれらの間の拘束をシミュレートすることによって、リアルな衣服や布の効果を作成します。バージョン2024.8から、キャラクターのための衣服を作成し、それらが動いてモーションと相互作用するのを見ることができます。

新しいシステムの主な特徴は次のとおりです。

* 無条件に安定しており、どれほど極端な条件であっても、シミュレーションは常に安定した状態に回復します。
* 既存の物理およびアニメーションシステムと並行してリアルタイムで実行される別のスレッドで実行されます。これにより、マルチコアCPUのパワーを活用して、可能な限り最高のパフォーマンスを提供できます。
* カスタム曲線コライダー形状。従来のジオメトリ形状とは異なり、当社のカスタムコライダーモデルは曲線の体の部分とほぼ完璧に一致させることができます。


### 設定
"クロスシミュレーション"の設定は、アクターメニューの"プロ"セクションで見つけることができます。

* クイックコントロール：設定の上部には、シミュレーションを「リセット」したり、クロスメッシュを素早く「再構築」するためのコントロールがあります。
* メッシュの設定：2つのクロスメッシュを作成し、それぞれを個別に設定できます。ここでは、形状、サイズ、密度、およびアンカリングオプションを制御できます。
* 表面とテクスチャ：クロスメッシュのための素材を調整します。
* インタラクション：ここでは、クロスメッシュをリアルタイムで縮小したり、ドラッグや引き裂きを有効にしたりできます。はい、ポインターでクロスメッシュを引き裂くことも、自重で壊れることもできます。
* コライダーの調整：モデルのためのコライダーを調整します。
* シミュレーション設定：粒子サイズと拘束適合性を制御します。
* セルフコリジョン：粒子間の衝突を制御します。
* 物理特性：重力、摩擦など
* 計算設定：シミュレーションのフレームレート、サブステップなどを制御します。


### メッシュの作成
クロスメッシュは、設定に基づいて手続き的に生成されます。いくつかの例を見るためにメッシュのプリセットをチェックできます。

基本構成には次のものが含まれます
* 内半径：クロスメッシュの開始円の半径
* 長さ：クロスメッシュの延長
* 傾斜：クロスメッシュの延長角度。0は円柱形状を、90は平らな円を表します。
* 解像度：クロスメッシュ内の粒子の密度。解像度が高いほど、粒子が多く、計算が多くなります。

いくつかの異なるトポロジオプションを選択できます。

適応的な六角形または四角形のオプションを使用すると、各行の周囲に基づいて各行の粒子数が増減します。分割オプションを使用すると、クロスメッシュを左右に分割できます。

水平レイアウトオプションを使用すると、上記の2つとほぼ同じですが、アンカリングを部分的に指定できます。

垂直レイアウトオプションを使用すると、各行に完全に同じ数の粒子がありますが、クロスメッシュを一定の間隔で分割できます。


### アンカリング
クロスメッシュをモデルにアンカリングして、アンカリングしたいボディパーツを選択できます。クロスメッシュは選択したボディパーツに取り付けられ、それらと一緒に移動します。


### パフォーマンスガイド
シミュレーションは、高い安定したフレームレートを好みます。お勧めは、"ディスプレイ＆UI"設定で適切な固定フレームレートを選択し、クロスシミュレーションのための"計算"設定で同等のフレームレートを選択することです。

デフォルト設定では、シミュレーションのフレームレートは固定の90に設定されています。システムが60または30しかできない場合でも、少しスローモーション効果を除いて、問題なく動作するはずです。これを補うために、サブステップの数を増やすことができます。

### コライダーの調整
クロスシミュレーションシステムは独自のコライダーモデルを使用し、物理コンポーネントとは干渉しません。デフォルト設定はXPSモデルに調整されており、ほとんどのDOAモデルで動作するはずです。PMXの場合、体の比率が大きく異なるため、ワンサイズフィットオールの解決策はありませんが、モデルに合わせてコライダーを微調整するのはかなり簡単です。

まず、コライダーを見るために可視化をオンにしてから、各セクションに移動して、ボディパーツの形状とサイズを調整します。

コライダーを、両端に2つの球があり、それらをつなぐ調整可能な滑らかな曲線として想像できます。調整できるものは次のとおりです。
* 2つの球の位置
* 球の半径を個別に
* 球の間の曲線の値。正の場合は凸であり、負の場合は凹です。

現時点では、クロスシステムと他の物理コンポーネントとの間には相互作用はありません。唯一の例外は、XPS Boobs Physicsで、クロスシミュレーションに対応したコライダーを作成するための新しい設定が含まれています。


### モデルメッシュをクロスに変換<a id="mesh_to_cloth"></a>

モデルメッシュをクロスに変換し、クロスシミュレーションシステムでシミュレートできるようになりました。

"メッシュをクロスに"設定内のメッシュリストでチェックボックスをオンにして、メッシュをクロスに変換します。これにより、メッシュ全体が布のように自由に動き始めます。ただし、以下のオプションを使用して制約を設定できます。

各メッシュにアンカーボーンを選択して、特定のボーンにメッシュを制約できます。また、制約の高さ制限を指定できます。つまり、その高さ範囲内の粒子のみが選択したボーンに制約されます。