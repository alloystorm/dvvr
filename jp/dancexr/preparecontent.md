---
locale: ja-JP
layout: single
title: コンテンツライブラリ
toc: true
sidebar:
  nav: "docs-jp"
---
[Eng](/dancexr/preparecontent) | [繁中](/tw/dancexr/preparecontent) | [日本語](/jp/dancexr/preparecontent) | [한국어](/kr/dancexr/preparecontent) | [简中](/zh/dancexr/preparecontent)

## コンテンツライブラリ

コンテンツライブラリは、DanceXRがコンテンツを配置し、ユーザーが作成した設定を保存するフォルダです。

## コンテンツライブラリの場所

**Windows**: Windowsでは、システムメニュー（左下の歯車アイコン）内の「コンテンツライブラリ」セクションから「エクスプローラーで表示」をクリックすることで、コンテンツライブラリを見つけることができます。

**Android**: 2024.3アップデート以降、コンテンツフォルダはストレージ内の/DanceXR/にあります。古いバージョンを使用している場合は、/Android/data/com.vrstormlab.dancexr/files/にあります。

**iPhoneとiPad**: ファイルアプリの「私のiPhone」または「私のiPad」セクションでコンテンツライブラリを見つけることができます。DanceXRは、デバイスのルートディレクトリに「DanceXR」というフォルダを作成します。

**Oculus Quest**: 2024.3以降、コンテンツライブラリはストレージ内の/DanceXR/にあり、古いバージョンでは/Android/data/com.vrstormlab.dancexr/files/にあります。Android版と同様です。

## フォルダ構造

DanceXRは、コンテンツライブラリ内の異なるサブフォルダに配置されたさまざまなタイプのコンテンツを検索します。

* actors: キャラクターモデル
* motion: モーション＆オーディオファイル
* stages: ステージ用の3Dモデル
* accessory: アクターのボディパーツに取り付けられる3Dモデル
* props: 家具などのステージ小道具に使用できる3Dモデル
* texture
  * cookie: ライトマスク用のテクスチャ
  * drawing: [ボディペイント機能](features/outfit_body_paint.md)用の保存された画像
  * ground: 地面のテクスチャ
  * mask: モデルに適用できる[詳細＆法線マップ](features/custom_detail_map.md)
  * particle: [パーティクルエフェクト](features/particles.md)用のテクスチャ
  * sky: [パノラマスカイマップ](features/skymap.md)、HDR形式の使用を推奨
* settings: すべての保存された設定。これらのファイルはユーザーによって変更されることは意図されていませんが、バックアップを取っておくことができます。
* scenes: [保存されたシーン](features/save_scene.md)ファイル
* bundles: [必要なすべてのアセットが含まれた保存されたシーン](features/scene_bundle.md)を含むzipパッケージ
* export: 3Dスナップショット機能を使用すると、ここにエクスポートされたモデルファイルが見つかります。
* presets: 保存されたプリセットファイル。DanceXRの同じバージョンを使用している限り、これらのファイルを友達と共有することができます。
* videos: [投影およびダイナミックテクスチャマップ](features/video_playback.md)に使用できるビデオ。MP4形式のみをサポート。
* chat: [AIチャットシステム](ai_chat.md)に使用されるファイル
  * characters: キャラクターサムネイルとテンプレート。これらは自動生成されますが、修正することができます。
  * templates: プロンプトテンプレート、修正および新規作成が可能です。
  * history: 保存されたチャット履歴
  * persona: キャラクターに適用できるパーソナリティの説明
  * voices/piper/: TTSシステム用のカスタムボイスモデル

## サポートされている形式

* 3Dモデル: PMX、XPS、OBJ（ステージ小道具用）
* オーディオ: OGG、MP3（モバイルプラットフォームのみ）
* ビデオ: MP4
* モーション: VMD、BVH
* テクスチャ: PNG、JPG、HDR（スカイマップ用）

## グループ化と整理

特に複数のファイルが連携して動作するコンテンツの管理を容易にするために、ファイルを整理するためにzipパッケージを使用することをサポートしています。必要なすべてのファイルをサブフォルダに保管することもでき、同様に機能します。

### 3Dモデル

通常、3Dモデルにはメッシュを記述する1つのファイルと複数のテクスチャファイルが付属しています。ファイルを移動または抽出する際に、テクスチャとメッシュファイルの相対関係が変わらないようにしてください。プログラムが正しいテクスチャを見つけるためには重要です。

PMXの場合、メッシュファイルは.pmxファイルであり、XPSの場合、メッシュファイルは.xps、.mesh、または.mesh.asciiです。

1つのモデルのすべてのファイルをzipパッケージに保管することをお勧めします。これにより、ファイルサイズが小さくなり、管理が容易になります。

一部のモデルには[代替テクスチャ](features/alternative_textures.md)があります。DanceXRは、フォルダやzipパッケージを検索して、モデルに使用されているテクスチャファイルに類似したテクスチャファイルを自動的にメニューに追加します。これを機能させるためには、代替テクスチャがメインテクスチャと同じファイル名であることを確認する必要があります。たとえば、ベースマップがbase.pngという名前の場合、DanceXRは別のbase.pngを別のサブフォルダで見つけると、それを自動的に代替テクスチャとして追加します。モデルがzipパッケージにある場合、DanceXRは代替テクスチャを探すためにzipパッケージ全体を検索します。モデルがサブフォルダにある場合、メッシュファイルがある場所からすべてのサブフォルダを検索します。代替テクスチャをメッシュファイルのフォルダの外に配置すると認識されないため、これを考慮してください。

![actorsフォルダの例](/images/content_actors.PNG)

### モーションファイル

通常、モーションデータにはオーディオファイル、キャラクターモーション、カメラモーションが含まれます。DanceXRでは、オーディオ、キャラクターモーション、カメラモーションのバンドルを「ダンスセット」と呼びます。

DanceXRがダンスセットを検出できるようにするには、これらのファイルをすべてサブフォルダまたはzipパッケージ内に保管するだけです。ただし、その中には1つのオーディオファイルしか含まれていないことを確認してください。

モーション/オーディオのペアのみを持つシンプルなコンテンツの場合、1つのフォルダに複数のこれらを配置することができますが、オーディオとモーションファイルが同じ名前であることを確認する必要があります。例えば、「dance.vmd」と「dance.ogg」のようにです。これにより、DanceXRはそれらがペアであることを認識し、それに対してダンスセットを作成します。

また、同じフォルダに複数の関連のないモーションまたはオーディオファイルを配置することもできます。それらは他のファイルと関係のない個々のモーションまたはオーディオファイルとして認識されます。

![motionフォルダの例](/images/content_motion.PNG)

## コンテンツライブラリツール

コンテンツライブラリファイルを変更した後、DanceXRは起動時に変更を自動的に検出してコンテンツを再スキャンするはずです。

ただし、それが起こらない場合やファイルを移動した場合、システムメニュー内のコンテンツライブラリツールを使用して手動で更新することができます。

また、「ライブラリの変更」オプションを使用して別の場所を指定することもできます。

## Google Driveの統合

DanceXRは[Google Driveからファイルをダウンロード](features/googledrive.md)することができます。ドライブフォルダが制限なく共有されている限り、共有フォルダのURLを入力するだけで、DanceXRはドライブフォルダをスキャンし、ローカルに存在しないファイルをダウンロードすることができます。

## AndroidとOculus Quest向けのコンテンツの準備

Androidシステムには厳格なファイルアクセスルールがあります。通常、アプリはストレージ内のフォルダにアクセスできません。そのため、Android版とQuest版はデフォルトでアプリストレージ内にコンテンツライブラリがあり、PCを使用してファイルをコピーする必要があります。

2024.3以降、ファイルの管理を少し簡単にするために、ストレージ許可を使用しています。そのため、DanceXRにストレージへのアクセス許可を与え、システムファイルアプリを使用してファイルを移動およびコピーできるようになります。

古いバージョンを使用するか、アプリ内部ストレージスペースを使用する場合、コンテンツライブラリはここにあります: /Android/data/com.vrstormlab.dancexr/files/。

## デモ動画

PC版:
{% include video id="-2LStDN7WB8" provider="youtube" %}
{% include video id="BV1BH4y167jG" provider="bilibili" %}

Android上のコンテンツマネージャーの使用
{% include video id="VQjnL9oq-hY" provider="youtube" %}
{% include video id="BV1Ne4y137Ci" provider="bilibili" %}

Questでのコンテンツの読み込み
{% include video id="ZmDeuWwZtmI" provider="youtube" %}
{% include video id="BV1Dh4y1i7jJ" provider="bilibili" %}