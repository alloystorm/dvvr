---
locale: ja-JP
layout: single
title: コンテンツライブラリ
toc: true
sidebar:
  nav: "docs-jp"
---
[Eng](/dancexr/preparecontent) | [繁中](/tw/dancexr/preparecontent) | [日本語](/jp/dancexr/preparecontent) | [한국어](/kr/dancexr/preparecontent) | [简中](/zh/dancexr/preparecontent)

## コンテンツライブラリ

コンテンツライブラリは、DanceXRがコンテンツを探し、ユーザーが作成した設定を保存するフォルダです。

DanceXRは、コンテンツライブラリ内にある異なるサブフォルダにあるさまざまなタイプのコンテンツを検索します。

* actors: キャラクターモデル
* motion: モーション＆オーディオファイル
* stages: ステージ用の3Dモデル
* accessory: アクターのボディパーツに取り付けられる3Dモデル
* props: 家具などのステージ小道具に使用できる3Dモデル
* texture
  * cookie: ライトマスク用のテクスチャ
  * drawing: [ボディペイント機能](features/outfit_body_paint.md)用に保存された画像
  * ground: 地面のテクスチャ
  * mask: モデルに適用できる[詳細＆法線マップ](features/custom_detail_map.md)
  * particle: [パーティクルエフェクト](features/particles.md)用のテクスチャ
  * sky: [パノラマスカイマップ](features/skymap.md)、HDR形式の使用を推奨
* settings: すべての保存された設定。これらのファイルはユーザーによって変更されることを意図していませんが、バックアップを作成して保管することもできます。
* scenes: [保存されたシーン](features/save_scene.md)ファイル
* bundles: [必要なすべてのアセットが含まれた保存されたシーン](features/scene_bundle.md)が含まれるzipパッケージ
* export: 3Dスナップショット機能を使用すると、ここにエクスポートされたモデルファイルが見つかります。
* presets: 保存されたプリセットファイル。DanceXRの同じバージョンを使用している限り、これらのファイルを友達と共有できます。
* videos: [投影およびダイナミックテクスチャマップ](features/video_playback.md)に使用できるビデオ。MP4形式のみをサポート。
* chat: [AIチャットシステム](ai_chat.md)に使用されるファイル
  * characters: キャラクターサムネイルとテンプレート。これらは自動生成されますが、修正することもできます。
  * tempplates: プロンプトテンプレート、修正して新しいものを作成できます。
  * history: 保存されたチャット履歴
  * persona: キャラクターに適用できるパーソナリティの説明
  * voices/piper/: TTSシステム用のカスタムボイスモデル

## サポートされている形式

* 3Dモデル: PMX、XPS、OBJ（ステージ小道具用）
* オーディオ: OGG、MP3（モバイルプラットフォームのみ）
* ビデオ: MP4
* モーション: VMD、BVH
* テクスチャ: PNG、JPG、HDR（スカイマップ用）

## グループ化と整理

特に複数のファイルが連携して機能するコンテンツの管理を容易にするために、ファイルを整理するためにzipパッケージを使用することをサポートしています。必要なすべてのファイルをサブフォルダに保管することもでき、同様に機能します。

#### 3Dモデル<a id="3d-models"></a>

通常、3Dモデルにはメッシュを記述する1つのファイルと複数のテクスチャファイルが付属しています。ファイルを移動または抽出する際に、テクスチャとメッシュファイルの相対関係が変わらないようにしてください。プログラムが正しいテクスチャを見つけるためには、これが重要です。

PMXの場合、メッシュファイルは .pmx ファイルであり、XPSの場合、メッシュファイルは .xps、.mesh、または .mesh.ascii であることがあります。

1つのモデルのすべてのファイルをzipパッケージに保管することをお勧めします。ファイルサイズが小さく、管理が容易になります。

一部のモデルには[代替テクスチャ](features/alternative_textures.md)があります。DanceXRは、フォルダやzipパッケージを検索して、モデルで使用されているテクスチャファイルに類似したテクスチャファイルを自動的にメニューに追加します。これを機能させるには、代替テクスチャがメインテクスチャと同じファイル名であることを確認する必要があります。たとえば、ベースマップが base.png という名前の場合、DanceXR が別の base.png を別のサブフォルダで見つけると、それを自動的に代替テクスチャとして追加します。モデルがzipパッケージにある場合、DanceXR は代替テクスチャを検索するためにzipパッケージ全体を検索します。モデルがサブフォルダにある場合、メッシュファイルがある場所からすべてのサブフォルダを検索します。代替テクスチャをメッシュファイルのフォルダの外に配置すると認識されないため、これを考慮してください。

![actorsフォルダの例](/images/content_actors.PNG)

#### モーションファイル<a id="motion-files"></a>

通常、モーションデータにはオーディオファイル、キャラクターモーション、カメラモーションが含まれます。DanceXRでは、オーディオ、キャラクターモーション、カメラモーションのバンドルを「ダンスセット」と呼びます。

DanceXR がダンスセットを検出できるようにするには、これらのファイルをすべてサブフォルダまたはzipパッケージ内に保管するだけです。ただし、1つのオーディオファイルのみが含まれていることを確認してください。

モーション/オーディオのペアのみを持つ単純なコンテンツの場合、1つのフォルダに複数のこれらを配置できますが、オーディオファイルとモーションファイルが同じ名前であることを確認する必要があります。たとえば、「dance.vmd」と「dance.ogg」という名前です。これにより、DanceXR がそれらがペアであることを認識し、それに対してダンスセットを作成します。

同じフォルダには、複数の関連のないモーションまたはオーディオファイルを複数配置することもできます。それらは他のファイルと関係のない個々のモーションまたはオーディオファイルとして認識されます。

![motionフォルダの例](/images/content_motion.PNG)

## コンテンツライブラリツール

コンテンツライブラリファイルを変更した後、DanceXR は起動時に変更を自動的に検出してコンテンツを再スキャンするはずです。

ただし、それが発生しない場合やファイルを移動した場合は、システムメニューのコンテンツライブラリツールを使用して手動で更新できます。

また、「ライブラリの変更」オプションを使用して異なる場所を指定することもできます。

## Google ドライブ統合
DanceXR は[Googleドライブからファイルをダウンロード](features/googledrive.md)できます。ドライブフォルダが制限なく共有されている限りです。共有フォルダのURLを入力するだけで、DanceXR はドライブフォルダをスキャンして、ローカルに存在しないファイルをダウンロードできます。

## Android & Oculus Quest 用のコンテンツの準備

Android システムには厳格なファイルアクセスルールがあります。通常、アプリはストレージ内のフォルダにアクセスできません。そのため、Android 版およびQuest 版では、デフォルトでアプリのストレージスペース内にコンテンツライブラリがあり、PC を使用してファイルをコピーする必要があります。

2024.3 バージョンから、ストレージ許可を使用してファイルの管理を少し簡単にするようにしています。そのためには、DanceXR にストレージへのアクセス許可を付与し、その後、システムファイルアプリを使用してファイルの移動とコピーができるようになります。

古いバージョンを使用するか、アプリ内部ストレージスペースを使用する場合は、コンテンツライブラリはここにあります: /Android/data/com.vrstormlab.dancexr/files/.

## デモビデオ

PC 上:
{% include video id="-2LStDN7WB8" provider="youtube" %}
{% include video id="BV1BH4y167jG" provider="bilibili" %}

Android 上のコンテンツマネージャの使用
{% include video id="VQjnL9oq-hY" provider="youtube" %}
{% include video id="BV1Ne4y137Ci" provider="bilibili" %}

Quest 上でのコンテンツの読み込み
{% include video id="ZmDeuWwZtmI" provider="youtube" %}
{% include video id="BV1Dh4y1i7jJ" provider="bilibili" %}